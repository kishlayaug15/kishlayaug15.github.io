/*
Portfolio React App (single-file component)
- Default export: App
- Uses: react, react-router-dom, framer-motion, tailwindcss

Setup notes (put in README or terminal):
1. Create app: `npm create vite@latest my-portfolio --template react` or `npx create-react-app my-portfolio`
2. Install deps:
   npm install react-router-dom framer-motion
3. Install and configure Tailwind CSS (follow Tailwind docs for CRA/Vite).
4. Drop this file as `src/App.jsx`, make sure index.jsx renders <App /> inside BrowserRouter (this file already includes BrowserRouter).
5. Run: `npm run dev` or `npm start`.

This single-file component provides multiple pages, animated transitions, responsive layout, and placeholders for your content. Replace the placeholder text and images with your real data.
*/

import React from 'react';
import { BrowserRouter as Router, Routes, Route, Link, useLocation } from 'react-router-dom';
import { motion, AnimatePresence } from 'framer-motion';

// --- Small helper components ---
function IconLogo({ initials = 'YK' }){
  return (
    <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-teal-300 to-blue-400 grid place-items-center font-bold text-gray-900">
      {initials}
    </div>
  );
}

function Nav(){
  return (
    <nav className="bg-slate-900/60 backdrop-blur-md rounded-full px-4 py-2 flex items-center justify-between shadow-lg">
      <div className="flex items-center gap-3">
        <IconLogo />
        <div>
          <div className="font-extrabold text-slate-100">Your Name</div>
          <div className="text-xs text-slate-300">Product / Business Analyst</div>
        </div>
      </div>

      <div className="hidden md:flex items-center gap-4 text-slate-300 font-semibold">
        <NavLink to="/">Home</NavLink>
        <NavLink to="/about">About</NavLink>
        <NavLink to="/skills">Skills</NavLink>
        <NavLink to="/experience">Experience</NavLink>
        <NavLink to="/projects">Projects</NavLink>
        <NavLink to="/contact">Contact</NavLink>
      </div>

      <div className="flex items-center gap-3">
        <a href="#contact" className="hidden md:inline-block bg-teal-300 text-slate-900 px-3 py-1 rounded-lg font-bold">Hire Me</a>
        <MobileMenu />
      </div>
    </nav>
  );
}

function MobileMenu(){
  const [open, setOpen] = React.useState(false);
  return (
    <div className="md:hidden relative">
      <button onClick={()=>setOpen(v=>!v)} aria-label="menu" className="text-slate-300 text-xl">☰</button>
      <AnimatePresence>
        {open && (
          <motion.div
            initial={{opacity:0, y:-10}}
            animate={{opacity:1, y:0}}
            exit={{opacity:0, y:-10}}
            className="absolute right-0 mt-2 w-48 bg-slate-800/80 backdrop-blur rounded-lg shadow-lg p-3 z-50"
          >
            <div className="flex flex-col gap-2 text-slate-200">
              <NavLink to="/" onClick={()=>setOpen(false)}>Home</NavLink>
              <NavLink to="/about" onClick={()=>setOpen(false)}>About</NavLink>
              <NavLink to="/skills" onClick={()=>setOpen(false)}>Skills</NavLink>
              <NavLink to="/experience" onClick={()=>setOpen(false)}>Experience</NavLink>
              <NavLink to="/projects" onClick={()=>setOpen(false)}>Projects</NavLink>
              <NavLink to="/contact" onClick={()=>setOpen(false)}>Contact</NavLink>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
}

function NavLink({ to, children, onClick }){
  return (
    <Link to={to} onClick={onClick} className="hover:text-white transition-colors">{children}</Link>
  );
}

// --- Page transition wrapper using location ---
function AnimatedRoutes(){
  const location = useLocation();
  return (
    <AnimatePresence mode="wait">
      <Routes location={location} key={location.pathname}>
        <Route path="/" element={<PageWrapper><Home /></PageWrapper>} />
        <Route path="/about" element={<PageWrapper><About /></PageWrapper>} />
        <Route path="/skills" element={<PageWrapper><Skills /></PageWrapper>} />
        <Route path="/experience" element={<PageWrapper><Experience /></PageWrapper>} />
        <Route path="/projects" element={<PageWrapper><Projects /></PageWrapper>} />
        <Route path="/contact" element={<PageWrapper><Contact /></PageWrapper>} />
        <Route path="*" element={<PageWrapper><NotFound /></PageWrapper>} />
      </Routes>
    </AnimatePresence>
  );
}

function PageWrapper({ children }){
  return (
    <motion.div
      initial={{opacity:0, y:8}}
      animate={{opacity:1, y:0}}
      exit={{opacity:0, y:-8}}
      transition={{duration:0.36}}
      className="mt-6"
    >
      {children}
    </motion.div>
  );
}

// --- Pages ---
function Home(){
  return (
    <div className="grid md:grid-cols-2 gap-6 items-center">
      <motion.section className="p-6 bg-slate-800/60 rounded-2xl shadow-xl"
        initial={{opacity:0, x:-12}}
        animate={{opacity:1, x:0}}
        transition={{duration:0.5}}
      >
        <h1 className="text-3xl md:text-4xl font-extrabold text-white">Hi, I'm <span className="text-teal-300">Your Name</span></h1>
        <p className="mt-3 text-slate-300">Product & Business Analyst who translates ambiguity into action: user stories, data insights and product specs that move the needle.</p>

        <div className="mt-5 flex flex-wrap gap-2">
          <Tag>Tableau</Tag>
          <Tag>SQL</Tag>
          <Tag>Python</Tag>
          <Tag>Figma</Tag>
          <Tag>Jira</Tag>
        </div>

        <div className="mt-6 flex gap-3">
          <a href="/projects" className="inline-block bg-teal-300 text-slate-900 font-bold px-4 py-2 rounded-lg">View Projects</a>
          <a href="/contact" className="inline-block text-slate-300 border border-slate-700 px-4 py-2 rounded-lg">Contact</a>
        </div>
      </motion.section>

      <motion.div className="p-4 rounded-2xl bg-gradient-to-br from-slate-900 to-slate-800/50 shadow-lg flex flex-col items-center"
        initial={{opacity:0, x:12}}
        animate={{opacity:1, x:0}}
        transition={{duration:0.5, delay:0.12}}
      >
        <div className="w-56 h-56 rounded-xl overflow-hidden bg-gradient-to-br from-slate-700 to-slate-900 grid place-items-center">
          {/* Replace with real image */}
          <svg width="160" height="160" xmlns="http://www.w3.org/2000/svg">
            <rect width="100%" height="100%" fill="#0b1220" rx="16"/>
            <text x="50%" y="50%" fill="#6ee7b7" fontSize="14" fontFamily="Arial" textAnchor="middle" alignmentBaseline="middle">Your Photo</text>
          </svg>
        </div>

        <div className="mt-4 text-slate-300 text-center">
          <div className="font-semibold text-white">Your Name</div>
          <div className="text-sm">Analyst • Problem-solver • Data-minded</div>
        </div>

        <motion.div className="mt-4 grid grid-cols-2 gap-3 w-full"
          initial={{opacity:0, y:6}}
          animate={{opacity:1, y:0}}
          transition={{delay:0.2}}
        >
          <Stat label="Experience" value="1 yr" />
          <Stat label="Projects" value="5+" />
        </motion.div>
      </motion.div>
    </div>
  );
}

function About(){
  return (
    <div className="grid md:grid-cols-3 gap-6">
      <motion.div className="md:col-span-2 p-6 bg-slate-800/60 rounded-2xl shadow-inner"
        initial={{opacity:0, x:-8}}
        animate={{opacity:1, x:0}}
      >
        <h2 className="text-2xl font-bold text-white">About</h2>
        <p className="mt-3 text-slate-300">I'm a detail-oriented analyst with hands-on experience in content moderation workflows, basic automation, and dashboarding. I enjoy turning messy data into clear stories and aligning stakeholders around measurable goals.</p>

        <h3 className="mt-4 font-semibold text-white">Work style</h3>
        <ul className="mt-2 text-slate-300 list-disc list-inside space-y-1">
          <li>Data-first decision making: exploratory SQL + dashboards</li>
          <li>Collaborative: clear JIRA tickets, user stories, and acceptance criteria</li>
          <li>Rapid prototyping: Figma flows and lean experiments</li>
        </ul>
      </motion.div>

      <motion.aside className="p-6 bg-slate-900/70 rounded-2xl shadow-lg"
        initial={{opacity:0, x:8}}
        animate={{opacity:1, x:0}}
      >
        <h4 className="text-white font-semibold">Quick facts</h4>
        <div className="mt-3 text-slate-300 space-y-2">
          <div><span className="text-slate-400">Location:</span> India</div>
          <div><span className="text-slate-400">Availability:</span> Open to work</div>
          <div><span className="text-slate-400">Role preference:</span> Business Analyst / Product Analyst</div>
        </div>

        <div className="mt-4">
          <a className="block text-center bg-teal-300 text-slate-900 font-bold px-3 py-2 rounded-md">Download Resume</a>
        </div>
      </motion.aside>
    </div>
  );
}

function Skills(){
  const skills = [
    {name:'SQL', level:90},
    {name:'Tableau / Power BI', level:82},
    {name:'Python (pandas)', level:60},
    {name:'Jira / Confluence', level:84},
    {name:'Figma', level:58},
    {name:'Requirement Gathering', level:78}
  ];

  return (
    <div className="p-4 bg-slate-800/50 rounded-2xl">
      <h2 className="text-2xl font-bold text-white">Skills</h2>
      <p className="text-slate-300 mt-2">Tools and proficiencies relevant to analyst roles.</p>

      <div className="mt-4 grid gap-3">
        {skills.map(s=> (
          <motion.div key={s.name} className="p-3 bg-slate-900/60 rounded-lg"
            initial={{opacity:0, y:6}}
            whileInView={{opacity:1, y:0}}
            viewport={{once:true}}
          >
            <div className="flex justify-between items-center">
              <div className="text-slate-200 font-semibold">{s.name}</div>
              <div className="text-slate-400 text-sm">{s.level}%</div>
            </div>
            <div className="mt-2 h-2 bg-slate-700 rounded-full overflow-hidden">
              <motion.div className="h-full bg-gradient-to-r from-teal-400 to-blue-400"
                initial={{width:0}}
                animate={{width: `${s.level}%`}}
                transition={{duration:0.9, ease:'easeOut'}}
              />
            </div>
          </motion.div>
        ))}
      </div>
    </div>
  );
}

function Experience(){
  const items = [
    {role:'Content Moderator — Genpact', period:'Aug 2023 — Present', bullets:[
      'Reviewed and categorized content with accurate policy enforcement.',
      'Generated weekly trend summaries used by analysts.',
      'Implemented small automation scripts to speed triage.'
    ]},
    {role:'Intern — Sample Company', period:'Jun 2022 — Jul 2023', bullets:[
      'Built a dashboard to track engagement and retention using SQL + Tableau.'
    ]}
  ];

  return (
    <div className="space-y-4">
      <h2 className="text-2xl font-bold text-white">Experience</h2>
      <div className="mt-3 grid gap-3">
        {items.map((it,idx)=> (
          <motion.div key={idx} className="p-4 bg-slate-900/60 rounded-xl shadow-inner"
            initial={{opacity:0, y:6}}
            whileInView={{opacity:1, y:0}}
            viewport={{once:true}}
          >
            <div className="flex justify-between items-start">
              <div>
                <div className="font-semibold text-white">{it.role}</div>
                <div className="text-slate-400 text-sm">{it.period}</div>
              </div>
            </div>
            <ul className="mt-3 text-slate-300 list-disc list-inside space-y-1">
              {it.bullets.map((b,i)=>(<li key={i}>{b}</li>))}
            </ul>
          </motion.div>
        ))}
      </div>
    </div>
  );
}

function Projects(){
  const projects = [
    {title:'Customer Churn Dashboard', desc:'Tableau dashboard highlighting churn drivers using cohort analysis. SQL pipelines for data prep.', tags:['Tableau','SQL'], link:'#'},
    {title:'Policy Classifier (Prototype)', desc:'Prototype script that scores content using keyword heuristics to speed triage.', tags:['Python','Automation'], link:'#'}
  ];
  return (
    <div>
      <h2 className="text-2xl font-bold text-white">Projects</h2>
      <div className="mt-4 grid md:grid-cols-2 gap-4">
        {projects.map((p,idx)=> (
          <motion.article key={idx} className="p-4 bg-slate-800/60 rounded-xl"
            initial={{opacity:0, y:8}}
            whileInView={{opacity:1, y:0}}
            viewport={{once:true}}
          >
            <div className="flex justify-between items-start">
              <h3 className="font-semibold text-white">{p.title}</h3>
              <div className="text-slate-400 text-sm">{p.tags.join(' • ')}</div>
            </div>
            <p className="mt-2 text-slate-300">{p.desc}</p>
            <div className="mt-3 flex gap-2">
              <a href={p.link} className="text-sm text-teal-300 font-semibold">View</a>
              <a href="#" className="text-sm text-slate-400">Source</a>
            </div>
          </motion.article>
        ))}
      </div>
    </div>
  );
}

function Contact(){
  const handleSubmit = (e)=>{
    e.preventDefault();
    alert('Demo: message captured. Hook to EmailJS / backend for real submissions.');
    e.target.reset();
  };

  return (
    <div className="grid md:grid-cols-2 gap-6 items-start">
      <motion.form onSubmit={handleSubmit} className="p-6 bg-slate-800/60 rounded-2xl"
        initial={{opacity:0, x:-6}}
        animate={{opacity:1, x:0}}
      >
        <h2 className="text-2xl font-bold text-white">Contact</h2>
        <p className="text-slate-300 mt-2">Want to collaborate? Send a note and I will reply.</p>

        <div className="mt-4 grid gap-3">
          <input name="name" placeholder="Your name" required className="p-3 rounded-md bg-slate-900/40 border border-slate-700 text-white" />
          <input name="email" placeholder="Email" type="email" required className="p-3 rounded-md bg-slate-900/40 border border-slate-700 text-white" />
          <input name="subject" placeholder="Subject" className="p-3 rounded-md bg-slate-900/40 border border-slate-700 text-white" />
          <textarea name="message" rows={6} placeholder="Message" className="p-3 rounded-md bg-slate-900/40 border border-slate-700 text-white" />
          <div className="flex justify-end">
            <button className="bg-teal-300 text-slate-900 font-bold px-4 py-2 rounded-md">Send</button>
          </div>
        </div>
      </motion.form>

      <motion.aside className="p-6 bg-slate-900/70 rounded-2xl"
        initial={{opacity:0, x:6}}
        animate={{opacity:1, x:0}}
      >
        <h3 className="text-white font-semibold">Get in touch</h3>
        <div className="mt-3 text-slate-300 space-y-2">
          <div><span className="text-slate-400">Email:</span> your.email@example.com</div>
          <div><span className="text-slate-400">Phone:</span> +91 99999 99999</div>
          <div><span className="text-slate-400">Location:</span> India</div>
        </div>

        <div className="mt-4 flex gap-2">
          <a className="px-3 py-1 rounded-md bg-slate-800/40 text-slate-200">LinkedIn</a>
          <a className="px-3 py-1 rounded-md bg-slate-800/40 text-slate-200">GitHub</a>
        </div>
      </motion.aside>
    </div>
  );
}

function NotFound(){
  return (
    <div className="p-6 bg-slate-800/60 rounded-2xl text-center">
      <h2 className="text-2xl font-bold text-white">Page not found</h2>
      <p className="text-slate-300 mt-2">The page you're looking for doesn't exist.</p>
      <div className="mt-4"><Link to="/" className="text-teal-300 font-semibold">Go back home</Link></div>
    </div>
  );
}

// --- Small UI atoms ---
function Tag({ children }){ return <span className="px-2 py-1 bg-slate-700/60 text-slate-200 rounded-md text-sm font-semibold">{children}</span> }
function Stat({ label, value }){ return (<div className="p-3 bg-slate-900/50 rounded-lg text-center"><div className="font-bold text-white">{value}</div><div className="text-slate-300 text-sm">{label}</div></div>) }

// --- App (default export) ---
export default function App(){
  return (
    <Router>
      <div className="min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-slate-100 p-6 md:p-12">
        <div className="max-w-6xl mx-auto">
          <Nav />

          <main className="mt-6">
            <AnimatedRoutes />
          </main>

          <footer className="mt-12 text-center text-slate-400">
            <div className="text-sm">Made with care • © {new Date().getFullYear()} Your Name</div>
          </footer>
        </div>
      </div>
    </Router>
  );
}
